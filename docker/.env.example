# Calley — Docker Self-Hosted Environment Variables
# Copy this file to .env and fill in all values before running docker compose up.

# ─── Application ──────────────────────────────────────
NODE_ENV=production
PORT=4000

# ─── Database ─────────────────────────────────────────
DB_PASSWORD=change-me-to-a-strong-password
DATABASE_URL=postgresql://calley:${DB_PASSWORD}@db:5432/calley
DB_POOL_MAX=20

# ─── Redis ────────────────────────────────────────────
REDIS_PASSWORD=change-me-to-a-strong-password
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379

# ─── Auth ─────────────────────────────────────────────
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=
COOKIE_DOMAIN=your-domain.com

# ─── OAuth — Google (optional) ────────────────────────
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=https://your-domain.com/api/v1/auth/oauth/google/callback

# ─── OAuth — GitHub (optional) ────────────────────────
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=https://your-domain.com/api/v1/auth/oauth/github/callback

# ─── Email (Resend) ──────────────────────────────────
RESEND_API_KEY=
EMAIL_FROM=Calley <noreply@your-domain.com>

# ─── Web Push (VAPID) ────────────────────────────────
# Generate with: npx web-push generate-vapid-keys
VAPID_PRIVATE_KEY=
VAPID_PUBLIC_KEY=
VAPID_SUBJECT=mailto:admin@your-domain.com

# ─── Security ────────────────────────────────────────
CORS_ORIGIN=https://your-domain.com
RATE_LIMIT_ENABLED=true

# ─── Observability (optional) ────────────────────────
SENTRY_DSN=
LOG_LEVEL=info
